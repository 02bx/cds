<!DOCTYPE html>
<html id="docs" lang="en" class="">
	<head>
	<meta charset="utf-8">
<title>Workflow Template - CDS - Continuous Delivery Service</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="https://ovh.github.io/cds/images/favicon.png">




<link rel="stylesheet" href="https://ovh.github.io/cds/sass/styles.css" integrity="" media="screen">
<link rel="stylesheet" href="https://ovh.github.io/cds/css/callouts.css">
<link rel="stylesheet" href="https://ovh.github.io/cds/css/auto-complete.css">
<link rel="stylesheet" href="https://ovh.github.io/cds/css/fontawesome.min.css">
<link rel="stylesheet" href="https://ovh.github.io/cds/css/asciinema-player.css">
<link rel="stylesheet" href="https://ovh.github.io/cds/css/solarized-light.css">

<meta name="description"
    content="What is a workflow template? A workflow template is useful to easily create a new workflow for a project. Also if you need to manage multiple workflows, you can use a template to create one unique and generic workflow then apply it on each workflow.
Templates are versioned, so you can easily improve your template then re-apply it on a workflow.
A template contains a workflow, pipelines, applications, environments in yaml format.">
<meta property="og:description"
    content="What is a workflow template? A workflow template is useful to easily create a new workflow for a project. Also if you need to manage multiple workflows, you can use a template to create one unique and generic workflow then apply it on each workflow.
Templates are versioned, so you can easily improve your template then re-apply it on a workflow.
A template contains a workflow, pipelines, applications, environments in yaml format.">
<meta name="twitter:description"
    content="What is a workflow template? A workflow template is useful to easily create a new workflow for a project. Also if you need to manage multiple workflows, you can use a template to create one unique and generic workflow then apply it on each workflow.
Templates are versioned, so you can easily improve your template then re-apply it on a workflow.
A template contains a workflow, pipelines, applications, environments in yaml format.">
<meta property="og:url" content="https://ovh.github.io/cds/docs/concepts/template/">
<meta property="og:title" content="Workflow Template">
<meta name="twitter:title" content="Workflow Template">
<meta name="twitter:image:alt" content="CDS - Continuous Delivery Service">
<meta property="og:image" content="/images/cds-transparent.png">
<script type="text/javascript" src="https://ovh.github.io/cds/js/anchor-4.1.1.min.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/jquery-ui-1.12.1.min.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/bootstrap-3.3.7.min.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/highlight.pack.js"></script>
<script>
    hljs.initHighlightingOnLoad();

</script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/script.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/lunr.min.js"></script>
<script type="text/javascript">
    var baseurl = "https:\/\/ovh.github.io\/cds";

</script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/auto-complete.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/search.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/asciinema-player.js"></script>

	</head>
	<body>
		<section id="hero" class="light-text no-sub">
			<a href="https://ovh.github.io/cds/" class="logo"></a>
				<i id="tocburger" class="fa fa-bars" onclick='$("#toc").toggle()'></i><div class="nav-buttons" data-auto-burger="primary">
				<ul class="global-nav">
					
					
					<li><a href="https://ovh.github.io/cds/docs/" class="active">Documentation</a></li>
					
					<li><a href="https://ovh.github.io/cds/hosting/">Hosting your own instance</a></li>
					
					<li><a href="https://ovh.github.io/cds/development/">CDS Developer Manual</a></li>
					
					<li><a href="https://ovh.github.io/cds/about/">About</a></li>
					
					<li><i class="fa fa-search" onclick='$("#searchbox").toggle(); $("#search-query").focus().select()'></i></li>
					<li>
						<div id="btn-gh">
							<a class="github-button" href="https://github.com/ovh/cds" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star CDS on GitHub">Star</a>
							<script async defer src="https://buttons.github.io/buttons.js"></script>
						</div>
					</li>
				</ul>
				<div id="searchbox">
					<input data-search-input id="search-query" type="text" placeholder="search...">
					<span data-search-clear=""><i class="fa fa-close"></i></span>
				</div>
			</div>

<div id="headSubMenu" class="light-text">




	

		

		
		<ul>
			
			
			
			<li><a href="https://ovh.github.io/cds/docs/">Home</a></li>
			
			
				
				<li><a href="https://ovh.github.io/cds/docs/concepts/" class="menuSelected">Concepts</a></li>
			
				
				<li><a href="https://ovh.github.io/cds/docs/actions/">Actions</a></li>
			
				
				<li><a href="https://ovh.github.io/cds/docs/components/">Components</a></li>
			
				
				<li><a href="https://ovh.github.io/cds/docs/integrations/">Integrations</a></li>
			
				
				<li><a href="https://ovh.github.io/cds/docs/tutorials/">Tutorials</a></li>
			
		</ul>
		
	

	

		

		
	

	

		

		
	

	

		

		
	

</div>


		</section>
		<section id="page-content-with-menu">
			
<div id="toc">
     <div class="toc-container">
        
        
        
        
        
            
                
                    
                        
                            
                                    
                                    
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                
            
        
            
                
                    
                        
                    
                
            
        
            
                
                    
                        
                    
                        
                    
                        
                    
                
            
        
            
                
                    
                
            
        
        
        <i class="fa fa-bars" id="tocburger" onclick='$("#toc").toggle()'></i> 
<a class="item" data-title="Concepts" href="https://ovh.github.io/cds/docs/concepts/"></a>

	
	
	
	
		
			
<a class="item" data-title="Authentication" href="https://ovh.github.io/cds/docs/concepts/authentication/"></a>

		
	
		
			
<a class="item" data-title="Job" href="https://ovh.github.io/cds/docs/concepts/job/"></a>

		
	
		
			
<a class="item" data-title="Project" href="https://ovh.github.io/cds/docs/concepts/project/"></a>

		
	
		
			
<a class="item" data-title="Permissions - ACLs" href="https://ovh.github.io/cds/docs/concepts/permissions/"></a>

		
	
		
			
<a class="item" data-title="Pipeline" href="https://ovh.github.io/cds/docs/concepts/pipeline/"></a>

		
	
		
			
<a class="item" data-title="Variables" href="https://ovh.github.io/cds/docs/concepts/variables/"></a>

		
	
		
			
<div class="item" data-title="Workflow">
	<div class="container">
		
		<a class="item" data-title="Workflow" href="https://ovh.github.io/cds/docs/concepts/workflow/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Payload" href="https://ovh.github.io/cds/docs/concepts/workflow/payload/"></a>

		
	
		
			
<a class="item" data-title="Pipeline Context" href="https://ovh.github.io/cds/docs/concepts/workflow/pipeline-context/"></a>

		
	
		
			
<div class="item" data-title="Hooks">
	<div class="container">
		
		<a class="item" data-title="Hooks" href="https://ovh.github.io/cds/docs/concepts/workflow/hooks/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Webhook" href="https://ovh.github.io/cds/docs/concepts/workflow/hooks/webhook/"></a>

		
	
		
			
<a class="item" data-title="Scheduler" href="https://ovh.github.io/cds/docs/concepts/workflow/hooks/scheduler/"></a>

		
	
		
			
<a class="item" data-title="Git Repository Webhook" href="https://ovh.github.io/cds/docs/concepts/workflow/hooks/git-repo-webhook/"></a>

		
	
		
			
<a class="item" data-title="Git Repository Poller" href="https://ovh.github.io/cds/docs/concepts/workflow/hooks/git-repo-poller/"></a>

		
	
		
			
<a class="item" data-title="Kafka hook" href="https://ovh.github.io/cds/docs/concepts/workflow/hooks/kafka-hook/"></a>

		
	
		
			
<a class="item" data-title="RabbitMQ hook" href="https://ovh.github.io/cds/docs/concepts/workflow/hooks/rabbitmq-hook/"></a>

		
	

	</div>
</div>

		
	
		
			
<a class="item" data-title="Run conditions on pipeline" href="https://ovh.github.io/cds/docs/concepts/workflow/run-conditions/"></a>

		
	
		
			
<a class="item" data-title="Join" href="https://ovh.github.io/cds/docs/concepts/workflow/join/"></a>

		
	
		
			
<a class="item" data-title="Mutex" href="https://ovh.github.io/cds/docs/concepts/workflow/mutex/"></a>

		
	
		
			
<a class="item" data-title="Sidebar" href="https://ovh.github.io/cds/docs/concepts/workflow/sidebar/"></a>

		
	
		
			
<a class="item" data-title="Run Number" href="https://ovh.github.io/cds/docs/concepts/workflow/run-number/"></a>

		
	
		
			
<a class="item" data-title="Notifications" href="https://ovh.github.io/cds/docs/concepts/workflow/notifications/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Requirement">
	<div class="container">
		
		<a class="item" data-title="Requirement" href="https://ovh.github.io/cds/docs/concepts/requirement/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Network Access" href="https://ovh.github.io/cds/docs/concepts/requirement/requirement_network/"></a>

		
	
		
			
<a class="item" data-title="Service Link" href="https://ovh.github.io/cds/docs/concepts/requirement/requirement_service/"></a>

		
	
		
			
<a class="item" data-title="Memory" href="https://ovh.github.io/cds/docs/concepts/requirement/requirement_memory/"></a>

		
	
		
			
<a class="item" data-title="OS &amp; Architecture" href="https://ovh.github.io/cds/docs/concepts/requirement/requirement_os_arch/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Configuration files">
	<div class="container">
		
		<a class="item" data-title="Configuration files" href="https://ovh.github.io/cds/docs/concepts/files/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Workflow configuration file" href="https://ovh.github.io/cds/docs/concepts/files/workflow-syntax/"></a>

		
	
		
			
<a class="item" data-title="Pipeline configuration file" href="https://ovh.github.io/cds/docs/concepts/files/pipeline-syntax/"></a>

		
	
		
			
<a class="item" data-title="Worker Model configuration file" href="https://ovh.github.io/cds/docs/concepts/files/worker_model-syntax/"></a>

		
	
		
			
<a class="item" data-title="Action configuration file" href="https://ovh.github.io/cds/docs/concepts/files/action-syntax/"></a>

		
	
		
			
<a class="item" data-title="Application configuration file" href="https://ovh.github.io/cds/docs/concepts/files/application-syntax/"></a>

		
	
		
			
<a class="item" data-title="Environment configuration file" href="https://ovh.github.io/cds/docs/concepts/files/environment-syntax/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Worker Model">
	<div class="container">
		
		<a class="item" data-title="Worker Model" href="https://ovh.github.io/cds/docs/concepts/worker-model/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Worker Model Variables" href="https://ovh.github.io/cds/docs/concepts/worker-model/variables/"></a>

		
	
		
			
<a class="item" data-title="Worker Model patterns" href="https://ovh.github.io/cds/docs/concepts/worker-model/patterns/"></a>

		
	

	</div>
</div>

		
	
		
			
<a class="item" data-title="Workflow Template" href="https://ovh.github.io/cds/docs/concepts/template/"></a>

		
	





     </div>
</div>


			<div id="docsContent">
        		

<h1>Workflow Template</h1>



<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#what-is-a-workflow-template">What is a workflow template?</a></li>
<li><a href="#template-parameters">Template parameters</a></li>
<li><a href="#apply-a-template">Apply a template</a></li>
<li><a href="#bulk-apply-a-template">Bulk apply a template</a></li>
<li><a href="#import-create-export">Import/Create/Export</a></li>
<li><a href="#delete-change-template-group">Delete/Change template group</a></li>
</ul></li>
</ul>
</nav>



<h2 id="what-is-a-workflow-template">What is a workflow template?</h2>

<p>A workflow template is useful to easily create a new workflow for a project. Also if you need to manage multiple workflows, you can
use a template to create one unique and generic workflow then apply it on each workflow.</p>

<p>Templates are versioned, so you can easily improve your template then re-apply it on a workflow.</p>

<p>A template contains a workflow, pipelines, applications, environments in yaml format.
Each yaml file of a template is evaluated as a Golang template (with [[ and ]] delimiters) so loop or condition can be used in templates.</p>

<h2 id="template-parameters">Template parameters</h2>

<p>There are four types of custom parameters available in a template (string, boolean, repository, json).
<img src="https://ovh.github.io/cds/images/workflow_template_parameters.png" alt="Parameters" /></p>

<p>There are some other parameters that are automatically added by CDS:</p>

<ul>
<li><strong>name</strong>: the name of the generated workflow given when template is applied (could be used to set the workflow name but also application names for example).</li>
<li><strong>id</strong>: the id of the template instance, this is unique for each generated workflow and reused when a template is re-applied (you can append this value to pipeline names to prevent override of existing pipeline).</li>
</ul>

<h2 id="apply-a-template">Apply a template</h2>

<p>To generate a new workflow from a template you should use the cdsctl. Then use the same command to update a generated workflow:</p>

<pre><code class="language-sh">cdsctl template apply
</code></pre>

<p><asciinema-player src="https://ovh.github.io/cds/images/workflow_template_apply.cast" cols="100" rows="25" autoplay="true" loop="true"></asciinema-player></p>

<p>You can also create a workflow from a template with the web UI.
<img src="https://ovh.github.io/cds/images/workflow_template_apply_ui.gif" alt="Apply" /></p>

<h2 id="bulk-apply-a-template">Bulk apply a template</h2>

<p>To generate or update multiple workflows from a same template in one time you can use the bulk feature. This works both in cdsctl and cds ui:</p>

<pre><code class="language-sh">cdsctl template bulk
</code></pre>

<p><asciinema-player src="https://ovh.github.io/cds/images/workflow_template_bulk.cast" cols="100" rows="25" autoplay="true" loop="true"></asciinema-player></p>

<p><img src="https://ovh.github.io/cds/images/workflow_template_bulk_ui.gif" alt="Bulk" /></p>

<h2 id="import-create-export">Import/Create/Export</h2>

<p>With cdsctl you can import/export a template from/to yaml files, you can also create a template in the UI from the <strong>settings</strong> menu:</p>

<pre><code class="language-sh">cdsctl template push ./my-template/*.yml #from local files
cdsctl template push https://raw.githubusercontent.com/ovh/cds/master/tests/fixtures/template/simple/example-simple.yml #from remote files

cdsctl template pull shared.infra/my-template --output-dir ./my-template
</code></pre>

<p><asciinema-player src="https://ovh.github.io/cds/images/workflow_template_pull_push.cast" cols="100" rows="25" autoplay="true" loop="true"></asciinema-player></p>

<h2 id="delete-change-template-group">Delete/Change template group</h2>

<p>When removing a template, all info about the template and its instances are removed but all generated stuff will not be deleted.
With the CDS UI you can change the template name or group, this will not affect template instances or generated workflow but no group members will be able to re-apply the template anymore.</p>




			</div>
		</section><footer>
			<main>
			<a href="https://www.ovh.com"><img src="https://ovh.github.io/cds/images/logo-ovh-white-72DPI.png"></a>
			<div>
				The CDS logos are copyrighted.
				Icons made by <a href="https://www.flaticon.com/authors/eucalyp">Eucalyp</a> 
				from <a href="https://www.flaticon.com/">www.flaticon.com</a>
			</div>
			</main>
		</footer>

	</body>
</html>
