<!DOCTYPE html>
<html id="docs" lang="en" class="">
	<head>
	<meta charset="utf-8">
<title>Database Management - CDS - Continuous Delivery Service</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="https://ovh.github.io/cds/images/favicon.png">




<link rel="stylesheet" href="https://ovh.github.io/cds/sass/styles.css" integrity="" media="screen">
<link rel="stylesheet" href="https://ovh.github.io/cds/css/auto-complete.css">
<link rel="stylesheet" href="https://ovh.github.io/cds/css/fontawesome.min.css">
<link rel="stylesheet" href="https://ovh.github.io/cds/css/asciinema-player.css">
<link rel="stylesheet" href="https://ovh.github.io/cds/css/solarized-light.css">

<meta name="description" content="CDS provides all needed tools scripts to perform Schema creation and auto-migration. Those tools are embedded inside the engine binary.
The migration files are available to download on GitHub Releases and the archive is named sql.tar.gz. You have to download it and untar (tar xvzf sql.tar.gz).
Creation On a brand new database run the following command:
$ $PATH_TO_CDS/engine database upgrade --db-host &lt;host&gt; --db-port &lt;port&gt; --db-user &lt;user&gt; --db-password &lt;password&gt; --db-name &lt;database&gt; --migrate-dir $PATH_TO_CDS/engine/sql --limit 0  Upgrade On an existing database, run the following command on each CDS update:">
<meta property="og:description" content="CDS provides all needed tools scripts to perform Schema creation and auto-migration. Those tools are embedded inside the engine binary.
The migration files are available to download on GitHub Releases and the archive is named sql.tar.gz. You have to download it and untar (tar xvzf sql.tar.gz).
Creation On a brand new database run the following command:
$ $PATH_TO_CDS/engine database upgrade --db-host &lt;host&gt; --db-port &lt;port&gt; --db-user &lt;user&gt; --db-password &lt;password&gt; --db-name &lt;database&gt; --migrate-dir $PATH_TO_CDS/engine/sql --limit 0  Upgrade On an existing database, run the following command on each CDS update:">
<meta name="twitter:description" content="CDS provides all needed tools scripts to perform Schema creation and auto-migration. Those tools are embedded inside the engine binary.
The migration files are available to download on GitHub Releases and the archive is named sql.tar.gz. You have to download it and untar (tar xvzf sql.tar.gz).
Creation On a brand new database run the following command:
$ $PATH_TO_CDS/engine database upgrade --db-host &lt;host&gt; --db-port &lt;port&gt; --db-user &lt;user&gt; --db-password &lt;password&gt; --db-name &lt;database&gt; --migrate-dir $PATH_TO_CDS/engine/sql --limit 0  Upgrade On an existing database, run the following command on each CDS update:">
<meta property="og:url" content="https://ovh.github.io/cds/hosting/database/">
<meta property="og:title" content="Database Management">
<meta name="twitter:title" content="Database Management">
<meta name="twitter:image:alt"   content="CDS - Continuous Delivery Service">
<meta property="og:image" content="/images/cds-transparent.png">
<script type="text/javascript" src="https://ovh.github.io/cds/js/anchor-4.1.1.min.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/jquery-ui-1.12.1.min.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/bootstrap-3.3.7.min.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/script.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/lunr.min.js"></script>
<script type="text/javascript">
    var baseurl = "https:\/\/ovh.github.io\/cds";
</script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/auto-complete.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/search.js"></script>
<script type="text/javascript" src="https://ovh.github.io/cds/js/asciinema-player.js"></script>

	</head>
	<body>
		<section id="hero" class="light-text no-sub">
			<a href="https://ovh.github.io/cds/" class="logo"></a>
			<i id="tocburger" class="fa fa-bars" onclick='$("#toc").toggle()'></i><div class="nav-buttons" data-auto-burger="primary">
				<ul class="global-nav">
					
					
					<li><a href="https://ovh.github.io/cds/docs/">Documentation</a></li>
					
					<li><a href="https://ovh.github.io/cds/hosting/" class="active">Hosting your own instance</a></li>
					
					<li><a href="https://ovh.github.io/cds/development/">CDS Developer Manual</a></li>
					
					<li><a href="https://ovh.github.io/cds/about/">About</a></li>
					
					<li><i class="fa fa-search" onclick='$("#searchbox").toggle(); $("#search-query").focus().select()'></i></li>
					<li>
						<div id="btn-gh">
							<a class="github-button" href="https://github.com/ovh/cds" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star CDS on GitHub">Star</a>
							<script async defer src="https://buttons.github.io/buttons.js"></script>
						</div>
					</li>
				</ul>
				<div id="searchbox">
					<input data-search-input id="search-query" type="text" placeholder="search...">
					<span data-search-clear=""><i class="fa fa-close"></i></span>
				</div>
			</div>

<div id="headSubMenu" class="light-text">




	

		

		
	

	

		

		
		<ul>
			
			
			
			
		</ul>
		
	

	

		

		
	

	

		

		
	

</div>


		</section>
		<section id="page-content-with-menu">
			
<div id="toc">
     <div class="toc-container">
        
        
        
        
        
            
                
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                
            
        
            
                
                    
                        
                            
                        
                    
                
            
        
            
                
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                
            
        
            
                
                    
                
            
        
        
        <i class="fa fa-bars" id="tocburger" onclick='$("#toc").toggle()'></i> 
<a class="item" data-title="Hosting your own instance" href="https://ovh.github.io/cds/hosting/"></a>

	
	
	
	
		
			
<a class="item" data-title="Requirements" href="https://ovh.github.io/cds/hosting/requirements/"></a>

		
	
		
			
<a class="item" data-title="Download" href="https://ovh.github.io/cds/hosting/download/"></a>

		
	
		
			
<div class="item" data-title="Ready to RUN">
	<div class="container">
		
		
	
	
	
	
		
			
<a class="item" data-title="Docker Compose" href="https://ovh.github.io/cds/hosting/ready-to-run/docker-compose/"></a>

		
	
		
			
<a class="item" data-title="Run with Helm on Kubernetes" href="https://ovh.github.io/cds/hosting/ready-to-run/helm/"></a>

		
	
		
			
<a class="item" data-title="Run with binaries" href="https://ovh.github.io/cds/hosting/ready-to-run/from-binaries/"></a>

		
	

	</div>
</div>

		
	
		
			
<a class="item" data-title="Configuration" href="https://ovh.github.io/cds/hosting/configuration/"></a>

		
	
		
			
<a class="item" data-title="Database Management" href="https://ovh.github.io/cds/hosting/database/"></a>

		
	
		
			
<a class="item" data-title="Monitoring" href="https://ovh.github.io/cds/hosting/monitoring/"></a>

		
	
		
			
<a class="item" data-title="Upgrade your CDS Instance" href="https://ovh.github.io/cds/hosting/upgrade/"></a>

		
	





     </div>
</div>


			<div id="docsContent">
        		

<h1>Database Management</h1>



<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#creation">Creation</a></li>
<li><a href="#upgrade">Upgrade</a></li>
<li><a href="#more-details">More details</a></li>
</ul></li>
</ul>
</nav>



<p>CDS provides all needed tools scripts to perform Schema creation and auto-migration. Those tools are embedded inside the <code>engine</code> binary.</p>

<p>The migration files are available to download on <a href="https://github.com/ovh/cds/releases">GitHub Releases</a> and the archive is named <code>sql.tar.gz</code>. You have to download it and untar (<code>tar xvzf sql.tar.gz</code>).</p>

<h2 id="creation">Creation</h2>

<p>On a brand new database run the following command:</p>

<pre><code class="language-bash">$ $PATH_TO_CDS/engine database upgrade --db-host &lt;host&gt; --db-port &lt;port&gt; --db-user &lt;user&gt; --db-password &lt;password&gt; --db-name &lt;database&gt; --migrate-dir $PATH_TO_CDS/engine/sql --limit 0
</code></pre>

<h2 id="upgrade">Upgrade</h2>

<p>On an existing database, run the following command on each CDS update:</p>

<pre><code class="language-bash">$ $PATH_TO_CDS/engine database upgrade --db-host &lt;host&gt; --db-port &lt;port&gt; --db-user &lt;user&gt; --db-password &lt;password&gt; --db-name &lt;database&gt; --migrate-dir $PATH_TO_CDS/engine/sql
</code></pre>

<h2 id="more-details">More details</h2>

<p><a href="https://github.com/ovh/cds/blob/master/engine/sql/README.md">Read more about CDS Database Management</a></p>




			</div>
		</section><footer>
			<main>
			<a href="https://www.ovh.com"><img src="https://ovh.github.io/cds/images/logo-ovh-white-72DPI.png"></a>
			<div>
				The CDS logos are copyrighted.
				Icons made by <a href="https://www.flaticon.com/authors/eucalyp">Eucalyp</a> 
				from <a href="https://www.flaticon.com/">www.flaticon.com</a>
			</div>
			</main>
		</footer>

	</body>
</html>
